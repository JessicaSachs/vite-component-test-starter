<html>
<head>
  <meta charset="utf-8">
  <title>☕️ Mocha Tests</title>
  <link href="https://unpkg.com/mocha@4.0.1/mocha.css" rel="stylesheet"/>
  <script src="https://unpkg.com/chai@4.1.2/chai.js"></script>
  <script src="https://unpkg.com/mocha@4.0.1/mocha.js"></script>
  <script>
    mocha.setup('bdd');
    window.expect = chai.expect
  </script>
</head>

<body>
<div id="app"></div>
<script type="module">
  import('./index.js').then(({specs}) => {
    Promise.all(specs).then(() => {
      mocha.setup({reporter: 'list'})
      mocha.checkLeaks()
      mocha.run()
    }).catch((err) => {
      document.body.innerHTML = `${err}
        <p><button onclick="goToTest()">Go to test/index.html</button></p>
        `
      window.goToTest = () => document.location.href = '/test/index.html'
    })
  })
</script>
</body>
</html>
